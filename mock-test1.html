<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>7 Scrolling Questions — Responsive Mock Test</title>
  <style>
    :root{
      --bg:#4CAF50; --card:#0b1220; --muted:#9aa4b2; --accent:#ffffff;
      --gap:16px; --radius:14px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background: #4CAF50;color:#ffffff;min-height:100vh}

    /* viewport snap container for mobile-friendly scrolling */
    .questions-wrap{
      display:flex;flex-direction:column;gap:var(--gap);padding:18px;min-height:100vh;scroll-behavior:smooth;font-family: 'Times New Roman', Times, serif; font-size: 20px;
    }

    /* Make it snap on small screens */
    .snap-list{display:flex;flex-direction:column;gap:var(--gap);overflow-y:auto;padding-bottom:28px;scroll-snap-type:y mandatory;}
    .card{background: #ffffff;padding:16px;border-radius:var(--radius);backdrop-filter:blur(6px);box-shadow:0 6px 18px rgba(2,6,23,0.6);display:flex;flex-direction:column;gap:12px;scroll-snap-align:start}

    .media{width:100%;height:220px;overflow:hidden;border-radius:10px;flex-shrink:0}
    .media img{width:100%;height:100%;object-fit:cover;display:block}

    .q-head{display:flex;align-items:center;justify-content:space-between;gap:12px; font-family: 'Times New Roman', Times, serif;}
    .q-title{font-size:1.05rem;font-weight:600; color: #002018;}
    .meta{font-size:0.85rem;color:var(--muted)}

    .options{display:grid;grid-template-columns:1fr 1fr;gap:10px; font-family: 'Times New Roman', Times, serif;}
    .opt{background:rgba(255,255,255,0.03);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;user-select:none}
    .opt:hover{transform:translateY(-2px)}
    .opt.selected{outline:3px solid rgba(110,231,183,0.18);background: #4CAF50; color: #ffffff;}

    /* progress & controls fixed footer on mobile */
    .controls{position:sticky;bottom:12px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .progress{flex:1;height:10px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;margin-right:12px}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#60a5fa);width:0%}
    .btn{background:var(--accent);color:#002018;padding:10px 14px;border-radius:10px;font-weight:700;border:none;cursor:pointer}

    /* Desktop: show multiple cards in a column with left sidebar */
    @media(min-width:900px){
      body{padding:28px}
      .outer{max-width:1100px;margin:0 auto;display:grid;grid-template-columns:240px 1fr;gap:20px}
      .sidebar{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));padding:16px;border-radius:12px;position:sticky;top:28px;height:fit-content}
      .snap-list{overflow:visible;scroll-snap-type:none}
      .media{height:180px}
      .options{grid-template-columns:1fr 1fr}
      .controls{position:static;margin-top:6px}
    }

    /* Make each card almost full-screen on narrow phones */
    @media(max-width:420px){
      .card{min-height:84vh;padding:14px}
      .media{height:44vh}
      .options{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="questions-wrap outer" id="app">
    <aside class="sidebar" aria-hidden="true">
      <h3 style="margin:0 0 8px 0">Mock Test — Questions</h3>
      <p style="margin:0;color: #ffffff;font-size:18px; font-family: 'Times New Roman', Times, serif;">Scroll through questions. Tap an option to select. Use the Next button or swipe.</p>
      <hr style="margin:12px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)">
      <div id="qList"></div>
    </aside>

    <main style="min-width:0">
      <div class="snap-list" id="cards" tabindex="0">
        <!-- Cards generated by JS -->
      </div>

      <div class="controls" style="margin-top:12px">
        <div style="display:flex;align-items:center;flex:1">
          <div class="progress" aria-hidden="true"><i id="prog"></i></div>
          <div style="min-width:68px;text-align:right;color: #ffffff;font-weight:600" id="progText">0/7</div>
        </div>
        <button class="btn" id="prevBtn" style="background: #ffffff;">Prev</button>
        <button class="btn" id="nextBtn">Next</button>
      </div>
    </main>
  </div>

  <script>
    const questions = [
      {id:1, q:"Identify the specimen", img:"https://mlhobevaucyf.i.optimole.com/w:1200/h:742/q:mauto/f:best/ig:avif/https://newagri.in/wp-content/uploads/2023/06/AG091_HONDA_TILER_4.jpg", opts:["Tractor","Tiller","Rotavator","Harrow"]},
      {id:2, q:"Identify the specimen", img:"https://exoticskeeper.com/wp-content/uploads/shutterstock_1912081831-scaled.jpg", opts:["Silk worm","Honey bee","Butterfly","House fly"]},
      {id:3, q:"Identify the specimen", img:"https://static.dw.com/image/19309614_605.jpg", opts:["Earth worm","Flatworm","Round worm","Millipede"]},
      {id:4, q:"Identify the specimen", img:"https://www.afa.go.ke/wp-content/uploads/2024/02/finger-millet-a-versatile-grain-worth-cultivating-1920x960.jpg", opts:["Rice","Wheat","Finger millet","Proso millet"]},
      {id:5, q:"Identify the specimen", img:"https://mlhobevaucyf.i.optimole.com/w:1200/h:742/q:mauto/f:best/ig:avif/id:e5d449fd3097f5fc606398ec6aa57928/https://newagri.in/2.jpg", opts:["Cono weeder","Hand hoe","Tiller","Power weeder"]},
      {id:6, q:"Identify the specimen", img:"https://en-media.thebetterindia.com/uploads/2019/02/subabul2.jpg", opts:["Neem","Subabul","Banyan","Teak"]},
      {id:7, q:"Identify the specimen", img:"https://www.yates.co.nz/media/guafzhje/greenhouse-thrips.jpg?width=800&mode=max", opts:["Aphids","Thrips","Whiteflies","Scale"]}
    ];

    const cards = document.getElementById('cards');
    const qList = document.getElementById('qList');
    const prog = document.getElementById('prog');
    const progText = document.getElementById('progText');

    const state = { currentIndex:0, answers: Array(questions.length).fill(null) };

    function renderCards(){
      cards.innerHTML = '';
      qList.innerHTML = '';
      questions.forEach((it,i)=>{
        const card = document.createElement('article');
        card.className='card';
        card.dataset.index = i;
        card.innerHTML = `
          <div class="media"><img src="${it.img}" alt="Question ${i+1} image"></div>
          <div class="q-head"><div class="q-title">Q${i+1}. ${it.q}</div><div class="meta">Image-based</div></div>
          <div class="options" role="list">
            ${it.opts.map((o,oi)=>`<button class="opt" data-opt="${oi}" type="button">${String.fromCharCode(65+oi)}. ${o}</button>`).join('')}
          </div>
        `;
        cards.appendChild(card);

        // sidebar entry
        const sb = document.createElement('div');
        sb.style.padding='8px 6px';sb.style.fontSize='0.95rem';sb.style.cursor='pointer';sb.textContent = `Q${i+1}`;
        sb.dataset.index = i;
        sb.addEventListener('click',()=> scrollToIndex(i));
        qList.appendChild(sb);
      });

      // attach option listeners after DOM is in place
      Array.from(document.querySelectorAll('.opt')).forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          const opt = +e.currentTarget.dataset.opt;
          const card = e.currentTarget.closest('.card');
          const idx = +card.dataset.index;
          // mark selection
          const opts = card.querySelectorAll('.opt');
          opts.forEach(x=>x.classList.remove('selected'));
          e.currentTarget.classList.add('selected');
          state.answers[idx] = opt;
          updateProgress();
        });
      });

    }

    function scrollToIndex(i){
      const el = cards.querySelector(`.card[data-index='${i}']`);
      if(!el) return;
      el.scrollIntoView({behavior:'smooth',block:'start'});
      state.currentIndex = i;
      updateProgress();
    }

    function updateProgress(){
      const done = state.answers.filter(x=>x!==null).length;
      const pct = Math.round((done/questions.length)*100);
      prog.style.width = pct + '%';
      progText.textContent = `${done}/${questions.length}`;

      // highlight current visible card in sidebar
      const rects = Array.from(cards.querySelectorAll('.card')).map((c,i)=>({el:c,top:c.getBoundingClientRect().top}));
      let nearestIndex = 0;let minTop=Infinity;
      rects.forEach((r,idx)=>{ const t = Math.abs(r.top - 120); if(t<minTop){minTop=t;nearestIndex=idx}});
      Array.from(qList.children).forEach((n,ni)=>{ n.style.opacity = ni===nearestIndex?1:0.55; n.style.fontWeight = ni===nearestIndex?700:500 });
    }

    // next / prev controls
    document.getElementById('nextBtn').addEventListener('click',()=>{
      const next = Math.min(state.currentIndex+1, questions.length-1);
      scrollToIndex(next);
    });
    document.getElementById('prevBtn').addEventListener('click',()=>{
      const prev = Math.max(state.currentIndex-1, 0);
      scrollToIndex(prev);
    });

    // detect scroll to update current index
    cards.addEventListener('scroll', ()=>{
      // throttle via requestAnimationFrame
      if(window._rq) cancelAnimationFrame(window._rq);
      window._rq = requestAnimationFrame(()=>{
        const visible = Array.from(cards.querySelectorAll('.card')).map(c=>({el:c,top:c.getBoundingClientRect().top})).filter(x=>x.top>0).sort((a,b)=>a.top-b.top)[0];
        if(visible){
          const idx = +visible.el.dataset.index; state.currentIndex = idx; updateProgress();
        }
      })
    })

    // keyboard nav for accessibility
    window.addEventListener('keydown', (e)=>{
      if(e.key==='ArrowRight' || e.key==='ArrowDown'){ e.preventDefault(); document.getElementById('nextBtn').click(); }
      if(e.key==='ArrowLeft' || e.key==='ArrowUp'){ e.preventDefault(); document.getElementById('prevBtn').click(); }
    });

    // init
    renderCards();
    // ensure first card visible on load
    setTimeout(()=>{ scrollToIndex(0); updateProgress(); }, 120);

  </script>
</body>
</html>



